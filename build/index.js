(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,i=window.wp.components,s=window.wp.element,a=window.ReactJSXRuntime;(0,e.registerBlockType)("custom/testimonial",{title:"Testimonials",icon:"format-quote",category:"common",attributes:{testimonials:{type:"array",default:[]}},edit:({attributes:e,setAttributes:l})=>{const{testimonials:o}=e,r=(e,t,i)=>{const s=[...o];s[e][t]=i,l({testimonials:s})};return(0,a.jsxs)("div",{...(0,t.useBlockProps)(),children:[(0,a.jsx)(i.PanelBody,{title:"Manage Testimonials",children:o.map(((e,n)=>(0,a.jsx)(s.Fragment,{children:(0,a.jsxs)("div",{style:{border:"1px solid #ccc",padding:"10px",marginBottom:"10px"},children:[(0,a.jsx)(t.MediaUploadCheck,{children:(0,a.jsx)(t.MediaUpload,{onSelect:e=>r(n,"image",e.url),allowedTypes:["image"],value:e.image,render:({open:t})=>(0,a.jsx)(i.Button,{onClick:t,isPrimary:!0,children:e.image?"Change Image":"Upload Image"})})}),e.image&&(0,a.jsx)("img",{src:e.image,alt:"Author",style:{width:"80px",height:"80px",borderRadius:"50%",marginTop:"10px"}}),(0,a.jsx)(t.RichText,{tagName:"blockquote",value:e.content,onChange:e=>r(n,"content",e),placeholder:"Enter testimonial..."}),(0,a.jsx)(t.RichText,{tagName:"cite",value:e.author,onChange:e=>r(n,"author",e),placeholder:"Author name..."}),(0,a.jsx)(i.Button,{isDestructive:!0,onClick:()=>(e=>{const t=[...o];t.splice(e,1),l({testimonials:t})})(n),children:"Remove Testimonial"})]})},n)))}),(0,a.jsx)(i.Button,{onClick:()=>{l({testimonials:[...o,{content:"",author:"",image:""}]})},isPrimary:!0,children:"Add Testimonial"})]})},save:({attributes:e})=>(0,a.jsx)("div",{...t.useBlockProps.save(),className:"custom-testimonial-block",children:e.testimonials.map(((e,i)=>(0,a.jsxs)("div",{className:"testimonial-item",children:[e.image&&(0,a.jsx)("img",{src:e.image,alt:"Author",className:"testimonial-image"}),(0,a.jsxs)("blockquote",{children:[(0,a.jsx)(t.RichText.Content,{tagName:"p",value:e.content}),(0,a.jsx)(t.RichText.Content,{tagName:"cite",value:e.author})]})]},i)))})}),(0,e.registerBlockType)("custom/gallery-slider",{title:"Gallery Slider",icon:"images-alt2",category:"common",attributes:{images:{type:"array",default:[],source:"query",selector:"div img",query:{url:{type:"string",source:"attribute",attribute:"src"}}}},edit:({attributes:e,setAttributes:s})=>{const{images:l}=e;return(0,a.jsxs)("div",{...(0,t.useBlockProps)(),children:[(0,a.jsx)(t.MediaUploadCheck,{children:(0,a.jsx)(t.MediaUpload,{onSelect:e=>{s({images:e.map((e=>({url:e.url})))})},allowedTypes:["image"],multiple:!0,gallery:!0,value:l.map((e=>e.url)),render:({open:e})=>(0,a.jsx)(i.Button,{onClick:e,isPrimary:!0,children:"Select Images"})})}),(0,a.jsx)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:l.map(((e,t)=>(0,a.jsx)("img",{src:e.url,alt:"",style:{width:"80px",height:"80px",objectFit:"cover"}},t)))})]})},save:({attributes:e})=>(0,a.jsx)("div",{...t.useBlockProps.save(),className:"custom-gallery-slider",children:e.images.map(((e,t)=>(0,a.jsx)("img",{src:e.url,alt:""},t)))})})})();