'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var rpc = require('@remote-ui/rpc');

const endpoint = rpc.createEndpoint(rpc.fromWebWorker(self), {
  callable: []
});
self.addEventListener('message', ({
  data
}) => {
  if (data == null) {
    return;
  }
  if (data.__replace instanceof MessagePort) {
    endpoint.replace(data.__replace);
    data.__replace.start();
  }
});
Object.defineProperty(self, 'endpoint', {
  value: endpoint,
  enumerable: false,
  writable: false,
  configurable: true
});

exports.endpoint = endpoint;
